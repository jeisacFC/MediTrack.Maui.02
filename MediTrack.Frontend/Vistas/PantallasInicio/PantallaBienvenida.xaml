<?xml version="1.0" encoding="utf-8" ?>
<base:BaseContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:base="clr-namespace:MediTrack.Frontend.Vistas.Base"
    x:Class="MediTrack.Frontend.Vistas.PantallasInicio.PantallaBienvenida"
    BackgroundColor="#3b71ff"
    NavigationPage.HasNavigationBar="False"
    Title="Bienvenida">

    <Grid>

        <!-- 1) Fondo con patrón -->
        <Image Source="logo_patron.png"
           Aspect="AspectFill"
           Opacity="0.15"
           HorizontalOptions="Fill"
           VerticalOptions="Fill" />

        <!-- 2) Layout principal -->
        <Grid RowDefinitions="Auto,*">

            <!-- Placeholder para el logo -->
            <BoxView Grid.Row="0"
               HeightRequest="250"
               Opacity="0" />

            <!-- Contenedor blanco -->
            <Frame Grid.Row="1"
             CornerRadius="40"
             BackgroundColor="White"
             Margin="0,-60,0,0"
             Padding="30,40,30,40"
             HasShadow="False"
             VerticalOptions="Fill"
             HeightRequest="700">

                <!-- Contenido interno: títulos, botones, luego espacio -->
                <Grid RowDefinitions="Auto,Auto,*" RowSpacing="20">

                    <!-- Títulos -->
                    <VerticalStackLayout Grid.Row="0" Spacing="20">
                        <Label Text="MediTrack"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="#3b71ff"
                   HorizontalTextAlignment="Center" />

                        <Label Text="Mantén el control de tu medicación"
                   FontSize="20"
                   FontAttributes="Bold"
                   TextColor="#3b71ff"
                   HorizontalTextAlignment="Center" />

                        <Label Text="Controla tus medicamentos, programa recordatorios, recibe alertas personalizadas y gestiona toda tu información médica en un solo lugar"
                   FontSize="15"
                   TextColor="Gray"
                   HorizontalTextAlignment="Center" />
                    </VerticalStackLayout>

                    <!-- Botones -->
                    <VerticalStackLayout Grid.Row="1" Spacing="15" Margin="0,200,0,0">
                        <Grid ColumnSpacing="20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Button Text="Iniciar sesión"
                                Grid.Column="0"
                                BackgroundColor="#3b71ff" 
                                TextColor="White"
                                CornerRadius="30"
                                HeightRequest="60"
                                FontSize="20"
                                FontAttributes="Bold"
                                Clicked="IrAInicioSesion" />

                            <Button Text="Registrarse"
                                Grid.Column="1"
                                BackgroundColor="White"
                                BorderColor="#3b71ff"
                                TextColor="#3b71ff"
                                CornerRadius="30"
                                HeightRequest="60"
                                FontSize="20"
                                FontAttributes="Bold"
                                Clicked="IrARegistro" />
                        </Grid>

                        <!--<Button Text="Probar Escaneo (Temporal)"
                            BackgroundColor="DarkOrange" 
                            TextColor="White"
                            CornerRadius="30"
                            HeightRequest="60"
                            FontSize="18"
                            FontAttributes="Bold"
                            Clicked="IrAPantallaEscaneo" />-->
                    </VerticalStackLayout>
                    <!-- Espacio flexible debajo de los botones -->
                    <BoxView Grid.Row="2" />
                </Grid>
            </Frame>
        </Grid>

        <!-- 3) Logo al frente -->
        <Frame Padding="0"
           BackgroundColor="White"
           BorderColor="White"
           CornerRadius="25"
           HasShadow="False"
           WidthRequest="130"
           HeightRequest="130"
           HorizontalOptions="Center"
           VerticalOptions="Start"
           Margin="0,20,0,0"
           ZIndex="10">
            <Image Source="logo_meditrack.png"
             WidthRequest="200"
             HeightRequest="150"
             Aspect="AspectFit" />
        </Frame>

    </Grid>
</base:BaseContentPage>
