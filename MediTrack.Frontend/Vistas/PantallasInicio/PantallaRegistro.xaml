<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MediTrack.Frontend.Vistas.PantallasInicio.PantallaRegistro"
    NavigationPage.HasNavigationBar="False"
    Title="Registrarse">

    <Grid>

        <!-- Fondo con patrón -->
        <Image Source="logo_patron.png"
               Aspect="AspectFill"
               Opacity="0.8"
               HorizontalOptions="Fill"
               VerticalOptions="Fill"
               ZIndex="0" />

        <!-- Layout principal -->
        <Grid RowDefinitions="*,3*"
              ZIndex="1">

            <Grid Grid.Row="0" />
            <!-- Espacio superior -->

            <Frame Grid.Row="1"
                   CornerRadius="40"
                   BackgroundColor="White"
                   HasShadow="True"
                   Padding="35"
                   VerticalOptions="Fill"
                   HeightRequest="900">

                <ScrollView>
                    <VerticalStackLayout Spacing="25">

                        <!-- Logo -->
                        <Image Source="logo_meditrack.png"
                               HeightRequest="100"
                               HorizontalOptions="Center"
                               Margin="0,10"/>

                        <!-- Título -->
                        <Label Text="Regístrate"
                               FontSize="28"
                               FontAttributes="Bold"
                               TextColor="#3B71FF"
                               HorizontalOptions="Center"/>

                        <!-- Nombre con icono -->
                        <Frame CornerRadius="12"
                               BackgroundColor="#F8F8F8"
                               HasShadow="False"
                               Padding="10">
                            <HorizontalStackLayout Spacing="10">
                                <Image>
                                    <Image.Source>
                                        <FontImageSource Glyph="&#xE7FD;"
                                                         FontFamily="MaterialIcons"
                                                         Color="#3B71FF"
                                                         Size="20"/>
                                    </Image.Source>
                                </Image>
                                <Entry Placeholder="Nombre"
                                       PlaceholderColor="#A0A0A0"
                                       TextColor="Black"
                                       HeightRequest="45"/>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Apellidos con icono -->
                        <Frame CornerRadius="12"
                               BackgroundColor="#F8F8F8"
                               HasShadow="False"
                               Padding="10">
                            <HorizontalStackLayout Spacing="10">
                                <Image>
                                    <Image.Source>
                                        <FontImageSource Glyph="&#xE7FD;"
                                                         FontFamily="MaterialIcons"
                                                         Color="#3B71FF"
                                                         Size="20"/>
                                    </Image.Source>
                                </Image>
                                <Entry Placeholder="Apellidos"
                                       PlaceholderColor="#A0A0A0"
                                       TextColor="Black"
                                       HeightRequest="45"/>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Correo electrónico -->
                        <Frame CornerRadius="12"
                               BackgroundColor="#F8F8F8"
                               HasShadow="False"
                               Padding="10">
                            <HorizontalStackLayout Spacing="10">
                                <Image>
                                    <Image.Source>
                                        <FontImageSource Glyph="&#xE0BE;"
                                                         FontFamily="MaterialIcons"
                                                         Color="#3B71FF"
                                                         Size="20"/>
                                    </Image.Source>
                                </Image>
                                <Entry Placeholder="Correo electrónico"
                                       Keyboard="Email"
                                       PlaceholderColor="#A0A0A0"
                                       TextColor="Black"
                                       HeightRequest="45"/>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Contraseña -->
                        <Frame CornerRadius="12"
                               BackgroundColor="#F8F8F8"
                               HasShadow="False"
                               Padding="10">
                            <HorizontalStackLayout Spacing="10">
                                <Image>
                                    <Image.Source>
                                        <FontImageSource Glyph="&#xE897;"
                                                         FontFamily="MaterialIcons"
                                                         Color="#3B71FF"
                                                         Size="20"/>
                                    </Image.Source>
                                </Image>
                                <Entry Placeholder="Contraseña"
                                       IsPassword="True"
                                       PlaceholderColor="#A0A0A0"
                                       TextColor="Black"
                                       HeightRequest="45"/>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Botón Registrarse -->
                        <Button Text="Registrarse"
                                FontSize="18"
                                BackgroundColor="#3B71FF"
                                TextColor="White"
                                CornerRadius="12"
                                HeightRequest="50"
                                Clicked="OnRegistrarseClicked"/>

                        <!-- ¿Ya tienes cuenta? -->
                        <Grid Margin="60,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <Label Text="¿Ya tienes una cuenta?"
                                   TextColor="Gray"
                                   VerticalOptions="Center"
                                   Grid.Column="0" />

                            <Button Text="Iniciar sesión"
                                    BackgroundColor="Transparent"
                                    TextColor="#3B71FF"
                                    FontAttributes="Bold"
                                    VerticalOptions="Center"
                                    Grid.Column="1"
                                    Clicked="IrAInicioSesion"/>
                        </Grid>

                    </VerticalStackLayout>
                </ScrollView>

            </Frame>
        </Grid>
    </Grid>
</ContentPage>