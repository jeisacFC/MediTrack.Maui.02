<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:models="clr-namespace:MediTrack.Frontend.Models.Response"
             x:DataType="models:ResDetalleMedicamentoUsuario"
             x:Class="MediTrack.Frontend.Popups.DetalleMedicamentoGuardadoPopup"
             Color="Black"
             CanBeDismissedByTappingOutsideOfPopup="True"
             HorizontalOptions="Center"
             VerticalOptions="Center">

    <Border BackgroundColor="White" 
            StrokeThickness="0"
            WidthRequest="360"
            HeightRequest="650">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="20"/>
        </Border.StrokeShape>

        <ScrollView>
            <StackLayout Spacing="0">

                <Border BackgroundColor="#667eea" Padding="20,25,20,20">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="20,20,0,0"/>
                    </Border.StrokeShape>
                    <StackLayout Spacing="8">
                        <Label Text="Detalle del Medicamento" TextColor="White" FontSize="18" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
                        <Label Text="{Binding Medicamento.Nombre}" TextColor="White" FontSize="22" FontAttributes="Bold" HorizontalTextAlignment="Center" LineBreakMode="WordWrap"/>
                    </StackLayout>
                </Border>

                <StackLayout Padding="20,20,20,10" Spacing="16">

                    <StackLayout Spacing="5">
                        <Label Text="Principio Activo" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
                        <Border Padding="12,8">
                            <Label Text="{Binding Medicamento.PrincipioActivo}" FontSize="15" TextColor="#495057" LineBreakMode="WordWrap"/>
                        </Border>
                    </StackLayout>

                    <StackLayout Spacing="5">
                        <Label Text="Dosis" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
                        <Border Padding="12,8">
                            <Label Text="{Binding Medicamento.Dosis}" FontSize="15" TextColor="#1976d2" LineBreakMode="WordWrap"/>
                        </Border>
                    </StackLayout>

                    <StackLayout Spacing="5">
                        <Label Text="Fabricante" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
                        <Border Padding="12,8">
                            <Label Text="{Binding Medicamento.Fabricante}" FontSize="15" TextColor="#388e3c" LineBreakMode="WordWrap"/>
                        </Border>
                    </StackLayout>

                    <StackLayout Spacing="5">
                        <Label Text="Usos Comunes" FontSize="14" FontAttributes="Bold" TextColor="#333"/>
                        <Border Padding="12,10">
                            <VerticalStackLayout BindableLayout.ItemsSource="{Binding Medicamento.Usos}" Spacing="6">
                                <BindableLayout.ItemTemplate>
                                    <DataTemplate>
                                        <Label Text="{Binding ., StringFormat='• {0}'}" FontSize="15" TextColor="#495057" LineBreakMode="WordWrap"/>
                                    </DataTemplate>
                                </BindableLayout.ItemTemplate>
                            </VerticalStackLayout>
                        </Border>
                    </StackLayout>

                    <StackLayout Spacing="5">
                        <Label Text="Advertencias Importantes" FontSize="14" FontAttributes="Bold" TextColor="#d32f2f"/>
                        <Border Padding="12,10">
                            <VerticalStackLayout BindableLayout.ItemsSource="{Binding Medicamento.Advertencias}" Spacing="6">
                                <BindableLayout.ItemTemplate>
                                    <DataTemplate>
                                        <Label Text="{Binding ., StringFormat='• {0}'}" FontSize="15" TextColor="#d32f2f" LineBreakMode="WordWrap"/>
                                    </DataTemplate>
                                </BindableLayout.ItemTemplate>
                            </VerticalStackLayout>
                        </Border>
                    </StackLayout>

                </StackLayout>

                <Border Padding="20,15,20,20">
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Button Text="Eliminar" BackgroundColor="#f44336" TextColor="White" Clicked="Eliminar_Clicked"/>
                        <Button Grid.Column="1" Text="Cerrar" BackgroundColor="#4caf50" TextColor="White" Clicked="Cerrar_Clicked"/>
                    </Grid>
                </Border>
            </StackLayout>
        </ScrollView>
    </Border>
</toolkit:Popup>